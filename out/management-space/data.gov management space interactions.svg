<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="986px" preserveAspectRatio="none" style="width:2422px;height:986px;" version="1.1" viewBox="0 0 2422 986" width="2422px" zoomAndPan="magnify"><defs><filter height="300%" id="f1w28446evl3t2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="387" x="1010.25" y="16.708">data.gov management space interactions</text><!--MD5=[1882a77a351c382316da64f5bec32f3f]
cluster cloudgov--><rect fill="#FFFFFF" height="801" style="stroke:#A2A2A2;stroke-width:1.5;" width="2173" x="7" y="27.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="89" x="1049" y="44.8047">cloud.gov</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="1029" y="59.7168">[Cloud Foundry PaaS]</text><!--MD5=[bfe4f767bb11f22a1eaa0d90d17cf673]
cluster atob--><rect fill="#FFFFFF" height="561" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="2125" x="31" y="243.9531"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="130" x="1028.5" y="260.8047">ATO boundary</text><!--MD5=[4c55b2e2938314fe7430e1980dbbe371]
cluster organization--><rect fill="#FFFFFF" height="492" style="stroke:#A2A2A2;stroke-width:1.5;" width="2077" x="55" y="288.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="204" x="991.5" y="305.8047">data.gov organization</text><!--MD5=[3fb4865bab139ab2919f1e69951fd3d7]
cluster ms_staging_boundary--><rect fill="#FFFFFF" height="414.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="998" x="79" y="333.9531"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="239" x="458.5" y="350.8047">management testing area</text><!--MD5=[07ca47b472f7dd5d3675ecac7419b2b4]
cluster ms_space--><rect fill="#FFFFFF" height="345.5" style="stroke:#A2A2A2;stroke-width:1.5;" width="950" x="103" y="378.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="254" x="451" y="395.8047">management-staging space</text><!--MD5=[07b5faf46a2598e63f5f8a0765f14f88]
cluster ms_prod_boundary--><rect fill="#FFFFFF" height="423" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="1007" x="1101" y="333.9531"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="100" x="1554.5" y="350.8047">live spaces</text><!--MD5=[ed21a90cce806d7e57aca971956d75b3]
cluster staging_space--><rect fill="#FFFFFF" height="345.5" style="stroke:#A2A2A2;stroke-width:1.5;" width="228" x="1125" y="378.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="127" x="1175.5" y="395.8047">staging space</text><!--MD5=[2437d47e3f66315c5516728bb2ca4988]
cluster management_space--><rect fill="#FFFFFF" height="354" style="stroke:#A2A2A2;stroke-width:1.5;" width="435" x="1377" y="378.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="179" x="1505" y="395.8047">management space</text><!--MD5=[819181a3b62ccd411ec385c94ae6d6e9]
cluster production_space--><rect fill="#FFFFFF" height="345.5" style="stroke:#A2A2A2;stroke-width:1.5;" width="248" x="1836" y="378.9531"/><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="159" x="1880.5" y="395.8047">production space</text><!--MD5=[c4b7e62cae6397d845183545b8b2fe24]
entity cloudgov_loggregator--><rect fill="#999999" height="89.8438" style="stroke:#8A8A8A;stroke-width:1.5;" width="187" x="1237.5" y="78.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="161" x="1247.5" y="103.8047">cloud.gov logging</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="67" x="1297.5" y="122.4297">system</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1333" y="139.1982"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1288.5" y="155.4951">Loggregator</text><!--MD5=[d3041eb08a4e9fb0b313440e852b4629]
entity cloudgov_logs--><rect fill="#999999" height="71.2188" style="stroke:#8A8A8A;stroke-width:1.5;" width="177" x="1533.5" y="88.4531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="157" x="1543.5" y="113.3047">logs.fr.cloud.gov</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1624" y="130.0732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1610.5" y="146.3701">ELK</text><!--MD5=[dc8c14a63ede487a822c386a503c7377]
entity ms_dumper--><rect fill="#1168BD" height="71.2188" style="stroke:#3C7FC0;stroke-width:1.5;" width="175" x="474.5" y="415.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="135" x="494.5" y="440.8047">backup service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="564" y="457.5732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="488.5" y="473.8701">data.gov component</text><!--MD5=[2f107a3aa7a7f8467a5a37a456ef00bf]
entity ms_drain--><rect fill="#1168BD" height="71.2188" style="stroke:#3C7FC0;stroke-width:1.5;" width="121" x="900.5" y="415.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="101" x="910.5" y="440.8047">log shipper</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="963" y="457.5732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="928" y="473.8701">Fluent Bit</text><!--MD5=[18e38af2641659daa9438c06d23d0712]
entity ms_es_logs--><path d="M855,608.4531 C855,598.4531 946,598.4531 946,598.4531 C946,598.4531 1037,598.4531 1037,608.4531 L1037,698.9375 C1037,708.9375 946,708.9375 946,708.9375 C946,708.9375 855,708.9375 855,698.9375 L855,608.4531 " fill="#B3B3B3" style="stroke:#A6A6A6;stroke-width:1.5;"/><path d="M855,608.4531 C855,618.4531 946,618.4531 946,618.4531 C946,618.4531 1037,618.4531 1037,608.4531 " fill="none" style="stroke:#A6A6A6;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="112" x="890" y="637.3047">Log Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="917" y="652.2168">[AWS ES]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="948" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="869" y="684.3389">Stores, monitors, and</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="898" y="700.6357">alerts on logs</text><!--MD5=[ee265304ea4caaea751e94bc357ca781]
entity ms_services--><path d="M363.5,608.4531 C363.5,598.4531 464,598.4531 464,598.4531 C464,598.4531 564.5,598.4531 564.5,608.4531 L564.5,698.9375 C564.5,708.9375 464,708.9375 464,708.9375 C464,708.9375 363.5,708.9375 363.5,698.9375 L363.5,608.4531 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M363.5,608.4531 C363.5,618.4531 464,618.4531 464,618.4531 C464,618.4531 564.5,618.4531 564.5,608.4531 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="181" x="373.5" y="637.3047">production stand-in</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="405" y="652.2168">[AWS RDS, S3, etc]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="466" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="404" y="684.3389">Stores (stand-in)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="376.5" y="700.6357">persistent data for apps</text><!--MD5=[1cc0b62ee7398e47d2255367e16591f5]
entity ms_replica_services--><path d="M600,608.4531 C600,598.4531 710,598.4531 710,598.4531 C710,598.4531 820,598.4531 820,608.4531 L820,698.9375 C820,708.9375 710,708.9375 710,708.9375 C710,708.9375 600,708.9375 600,698.9375 L600,608.4531 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M600,608.4531 C600,618.4531 710,618.4531 710,618.4531 C710,618.4531 820,618.4531 820,608.4531 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="149" x="635.5" y="637.3047">staging stand-in</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="651" y="652.2168">[AWS RDS, S3, etc]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="712" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192" x="614" y="684.3389">Stores replica of (stand-in)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="622.5" y="700.6357">persistent data for apps</text><!--MD5=[5af2b48577eea141a1cef39761d279c3]
entity ms_backups--><path d="M119.5,608.4531 C119.5,598.4531 224,598.4531 224,598.4531 C224,598.4531 328.5,598.4531 328.5,608.4531 L328.5,698.9375 C328.5,708.9375 224,708.9375 224,708.9375 C224,708.9375 119.5,708.9375 119.5,698.9375 L119.5,608.4531 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M119.5,608.4531 C119.5,618.4531 224,618.4531 224,618.4531 C224,618.4531 328.5,618.4531 328.5,608.4531 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="145" x="151.5" y="637.3047">backup stand-in</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="195" y="652.2168">[AWS S3]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="226" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="159" y="684.3389">Stores backups of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="129.5" y="700.6357">production stand-in's data</text><!--MD5=[05b38927d950fb1db54bb306411ee48d]
entity staging_app--><rect fill="#999999" height="71.2188" style="stroke:#8A8A8A;stroke-width:1.5;" width="175" x="1151.5" y="415.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="101" x="1188.5" y="440.8047">application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1241" y="457.5732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1165.5" y="473.8701">data.gov component</text><!--MD5=[10e6f9c8dcda1ffa34b3cd071ff78693]
entity staging_services--><path d="M1141.5,608.4531 C1141.5,598.4531 1239,598.4531 1239,598.4531 C1239,598.4531 1336.5,598.4531 1336.5,608.4531 L1336.5,698.9375 C1336.5,708.9375 1239,708.9375 1239,708.9375 C1239,708.9375 1141.5,708.9375 1141.5,698.9375 L1141.5,608.4531 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M1141.5,608.4531 C1141.5,618.4531 1239,618.4531 1239,618.4531 C1239,618.4531 1336.5,618.4531 1336.5,608.4531 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="149" x="1164.5" y="637.3047">staging services</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1180" y="652.2168">[AWS RDS, S3, etc]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1241" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1179.5" y="684.3389">Stores replica of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="1151.5" y="700.6357">persistent data for apps</text><!--MD5=[01bf2e825a00d2e64055a2b6c2e1d034]
entity management_dumper--><rect fill="#1168BD" height="71.2188" style="stroke:#3C7FC0;stroke-width:1.5;" width="175" x="1393.5" y="415.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="135" x="1413.5" y="440.8047">backup service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1483" y="457.5732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1407.5" y="473.8701">data.gov component</text><!--MD5=[6c9ada47a76d4af5692655706be698ad]
entity manangement_backups--><path d="M1393,599.9531 C1393,589.9531 1486,589.9531 1486,589.9531 C1486,589.9531 1579,589.9531 1579,599.9531 L1579,706.7344 C1579,716.7344 1486,716.7344 1486,716.7344 C1486,716.7344 1393,716.7344 1393,706.7344 L1393,599.9531 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M1393,599.9531 C1393,609.9531 1486,609.9531 1486,609.9531 C1486,609.9531 1579,609.9531 1579,599.9531 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="166" x="1403" y="628.8047">backup repository</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="1457" y="643.7168">[AWS S3]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1488" y="659.542"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1421" y="675.8389">Stores backups of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1423" y="692.1357">production apps'</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1430.5" y="708.4326">persistent data</text><!--MD5=[32c27386f6628eee1da8db455f0bb709]
entity management_drain--><rect fill="#1168BD" height="71.2188" style="stroke:#3C7FC0;stroke-width:1.5;" width="121" x="1603.5" y="415.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="101" x="1613.5" y="440.8047">log shipper</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1666" y="457.5732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1631" y="473.8701">Fluent Bit</text><!--MD5=[3233b3b5604b048934bf18a8d8d394ab]
entity es_logs--><path d="M1614,608.4531 C1614,598.4531 1705,598.4531 1705,598.4531 C1705,598.4531 1796,598.4531 1796,608.4531 L1796,698.9375 C1796,708.9375 1705,708.9375 1705,708.9375 C1705,708.9375 1614,708.9375 1614,698.9375 L1614,608.4531 " fill="#B3B3B3" style="stroke:#A6A6A6;stroke-width:1.5;"/><path d="M1614,608.4531 C1614,618.4531 1705,618.4531 1705,618.4531 C1705,618.4531 1796,618.4531 1796,608.4531 " fill="none" style="stroke:#A6A6A6;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1649" y="637.3047">Log Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="1676" y="652.2168">[AWS ES]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1707" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1628" y="684.3389">Stores, monitors, and</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1657" y="700.6357">alerts on logs</text><!--MD5=[1f41e458a2e024ece0d2b5757bf6feb1]
entity production_app--><rect fill="#999999" height="71.2188" style="stroke:#8A8A8A;stroke-width:1.5;" width="175" x="1852.5" y="415.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="101" x="1889.5" y="440.8047">application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1942" y="457.5732"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1866.5" y="473.8701">data.gov component</text><!--MD5=[86b4242efb68ce0c1f1944095ff52d17]
entity production_services--><path d="M1852.5,608.4531 C1852.5,598.4531 1960,598.4531 1960,598.4531 C1960,598.4531 2067.5,598.4531 2067.5,608.4531 L2067.5,698.9375 C2067.5,708.9375 1960,708.9375 1960,708.9375 C1960,708.9375 1852.5,708.9375 1852.5,698.9375 L1852.5,608.4531 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M1852.5,608.4531 C1852.5,618.4531 1960,618.4531 1960,618.4531 C1960,618.4531 2067.5,618.4531 2067.5,608.4531 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="181" x="1869.5" y="637.3047">production services</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1901" y="652.2168">[AWS RDS, S3, etc]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1962" y="668.042"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="1866.5" y="684.3389">Stores persistent data for</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1942.5" y="700.6357">apps</text><path d="M2196.5,96.4531 L2196.5,151.8516 L2413.5,151.8516 L2413.5,106.4531 L2403.5,96.4531 L2196.5,96.4531 " fill="#FBFB77" filter="url(#f1w28446evl3t2)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2403.5,96.4531 L2403.5,106.4531 L2413.5,106.4531 L2403.5,96.4531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="2202.5" y="113.52">All connections depicted are</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2202.5" y="128.6528">encrypted with TLS 1.2 unless</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2202.5" y="143.7856">otherwise noted.</text><!--MD5=[d3c6fc63e0a998f14b0ab225234fd6f6]
link staging_app to staging_services--><path d="M1199.01,486.9811 C1191.25,495.8851 1184.23,506.0601 1180,516.9531 C1173.08,534.7681 1174.65,541.6071 1180,559.9531 C1183.09,570.5471 1187.8,581.0841 1193.25,591.0461 " fill="none" id="staging_app-to-staging_services" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1197.33,598.1921,1195.9658,589.7577,1190.7563,592.7345,1197.33,598.1921" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="130" x="1181" y="536.0918">reads/writes data</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="1198" y="550.0605">[data protocols]</text><!--MD5=[33d63853906563fdf5a358b4bb19877c]
link production_app to production_services--><path d="M1943.48,487.2901 C1946.32,515.6801 1950.4,556.4791 1953.8,590.4241 " fill="none" id="production_app-to-production_services" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1954.6,598.4451,1956.7876,590.1859,1950.8175,590.784,1954.6,598.4451" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="130" x="1951" y="536.0918">reads/writes data</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="1968" y="550.0605">[data protocols]</text><!--MD5=[3cfcfe76aa3595fe98591979bb97ff00]
link ms_dumper to ms_replica_services--><path d="M594.87,487.1371 C603.342,496.5731 612.251,506.9551 620,516.9531 C638.265,540.5191 656.772,567.6941 672.215,591.4931 " fill="none" id="ms_dumper-to-ms_replica_services" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="676.696,598.4351,674.878,590.0868,669.8369,593.3407,676.696,598.4351" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="120" x="650" y="536.0918">restore backups</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="662" y="550.0605">[data protocols]</text><!--MD5=[a62c6be7a167c76a752b044c787382e4]
link ms_dumper to ms_backups--><path d="M474.371,478.1821 C445.591,488.3291 414.065,501.3371 387,516.9531 C350.696,537.9001 314.43,567.0301 285.355,592.9151 " fill="none" id="ms_dumper-to-ms_backups" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="279.263,598.3851,287.2201,595.2731,283.2118,590.8084,279.263,598.3851" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="92" x="388" y="529.0918">reads/writes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60" x="406" y="543.0605">backups</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="79" x="396.5" y="557.0293">[S3 protocol]</text><!--MD5=[86326f656ee15dc26c02970b92982b38]
link ms_dumper to ms_services--><path d="M531.822,487.2081 C524.701,496.4751 517.569,506.7571 512,516.9531 C499.478,539.8781 489.171,566.7071 481.362,590.4171 " fill="none" id="ms_dumper-to-ms_services" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="478.81,598.3271,484.1219,591.635,478.4118,589.7924,478.81,598.3271" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="98" x="513" y="529.0918">make/restore</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60" x="534" y="543.0605">backups</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="516" y="557.0293">[data protocols]</text><!--MD5=[08ac5ff7704dbc2a40f0e29699c79bf8]
link management_dumper to manangement_backups--><path d="M1481.87,487.2901 C1482.52,513.2901 1483.43,549.6991 1484.23,581.7181 " fill="none" id="management_dumper-to-manangement_backups" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1484.43,589.7551,1487.2291,581.6826,1481.231,581.8326,1484.43,589.7551" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="92" x="1485" y="529.0918">reads/writes</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1503" y="543.0605">backups</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="79" x="1493.5" y="557.0293">[S3 protocol]</text><!--MD5=[f8777e609ef113ae08533c0bb26deb08]
link management_dumper to production_services--><path d="M1568.68,482.2621 C1574.51,483.9361 1580.33,485.5191 1586,486.9531 C1659.11,505.4351 1682.93,489.0751 1753,516.9531 C1778.91,527.2631 1831.8,561.9821 1877.63,593.6921 " fill="none" id="management_dumper-to-production_services" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1884.34,598.3451,1879.4749,591.3215,1876.0563,596.2523,1884.34,598.3451" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1827" y="529.0918">make/restore</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1848" y="543.0605">backups</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="1830" y="557.0293">[data protocols]</text><!--MD5=[fbcdac6e3ab6ed7f1eec2df28f83304b]
link management_dumper to staging_services--><path d="M1399.8,487.1161 C1383.55,495.7381 1367.15,505.7631 1353,516.9531 C1350.96,518.5691 1319.11,556.4691 1289.6,591.7731 " fill="none" id="management_dumper-to-staging_services" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1284.12,598.3251,1291.5506,594.1077,1286.9453,590.2618,1284.12,598.3251" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="120" x="1354" y="536.0918">restore backups</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="96" x="1366" y="550.0605">[data protocols]</text><!--MD5=[0c2cd90309b1b3bfab7c296141cdcb4c]
reverse link cloudgov_loggregator to management_dumper--><path d="M1390.12,175.1701 C1396.79,182.6461 1402.98,190.6481 1408,198.9531 C1450.35,268.9821 1469.23,364.8711 1476.72,415.6321 " fill="none" id="cloudgov_loggregator-backto-management_dumper" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1384.43,169.0181,1387.6634,176.9267,1392.0663,172.8505,1384.43,169.0181" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1431.5" y="211.0918">drain logs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="1423" y="225.0605">[stdout/stderr]</text><!--MD5=[eb2181427102220b3cb5cee866502467]
reverse link cloudgov_loggregator to staging_app--><path d="M1316.26,177.1191 C1297.32,244.1211 1264.97,358.5681 1248.8,415.7701 " fill="none" id="cloudgov_loggregator-backto-staging_app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1318.5,169.1901,1313.4377,176.073,1319.2117,177.7044,1318.5,169.1901" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1343.5" y="211.0918">log</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="1310" y="225.0605">[stdout/stderr]</text><!--MD5=[45f60aa9bebce3a0c26614ea47c649d0]
reverse link cloudgov_loggregator to production_app--><path d="M1432.49,149.5791 C1459.59,156.0221 1488.88,162.8641 1516,168.9531 C1647.61,198.5011 1703.35,156.0211 1812,235.9531 C1874.18,281.6971 1911.77,367.5301 1928.91,415.5881 " fill="none" id="cloudgov_loggregator-backto-production_app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1424.53,147.6841,1431.6235,152.4467,1433.006,146.6081,1424.53,147.6841" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1834.5" y="211.0918">log</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="1801" y="225.0605">[stdout/stderr]</text><!--MD5=[23e04ff043ecdac17fe15f3c0b75ca60]
reverse link cloudgov_loggregator to ms_dumper--><path d="M1229.41,139.7971 C1136.41,155.7611 996.42,185.8491 883,235.9531 C774.174,284.0281 661.939,368.5571 603.34,415.8761 " fill="none" id="cloudgov_loggregator-backto-ms_dumper" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1237.42,138.4371,1229.03,136.8224,1230.037,142.7373,1237.42,138.4371" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1012.5" y="211.0918">log</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="979" y="225.0605">[stdout/stderr]</text><!--MD5=[5f06adf8fc40095c9f66148020aec9b0]
link cloudgov_loggregator to management_drain--><path d="M1424.53,143.8401 C1479.13,159.5791 1545.12,187.5261 1586,235.9531 C1628.32,286.0851 1648.52,361.0881 1657.52,407.8251 " fill="none" id="cloudgov_loggregator-to-management_drain" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1659.02,415.9271,1660.5095,407.514,1654.6102,408.6091,1659.02,415.9271" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1577" y="218.0918">drain logs</text><!--MD5=[5dd3db2e9d3790a36900d558c39c4be8]
link cloudgov_loggregator to ms_drain--><path d="M1237.27,164.9361 C1200.07,183.3901 1158.31,207.5481 1125,235.9531 C1065.63,286.5861 1014.13,362.0601 985.367,408.6651 " fill="none" id="cloudgov_loggregator-to-ms_drain" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="981.119,415.6071,987.8534,410.349,982.7355,407.2174,981.119,415.6071" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1173" y="218.0918">drain logs</text><!--MD5=[28d0579a0545d750c69c693d0279ed08]
link cloudgov_loggregator to cloudgov_logs--><path d="M1424.68,123.9531 C1456.84,123.9531 1492.89,123.9531 1525.3,123.9531 " fill="none" id="cloudgov_loggregator-to-cloudgov_logs" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1533.45,123.9531,1525.45,120.9531,1525.45,126.9531,1533.45,123.9531" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="72" x="1443" y="118.0918">drain logs</text><!--MD5=[7384acb5c32c49f78403c73a49ec1b19]
link management_drain to es_logs--><path d="M1657.03,487.2811 C1654,508.5481 1652.3,536.1401 1658,559.9531 C1660.47,570.2831 1664.3,580.7621 1668.73,590.7731 " fill="none" id="management_drain-to-es_logs" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1672.22,598.3281,1671.5931,589.8072,1666.1449,592.3204,1672.22,598.3281" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64" x="1671.5" y="536.0918">ship logs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="1659" y="550.0605">[stdout/stderr]</text><!--MD5=[bf2f5ec8f4193c2795536cf205e13bfc]
link ms_drain to ms_es_logs--><path d="M958.387,487.2901 C956.258,515.6801 953.198,556.4791 950.652,590.4241 " fill="none" id="ms_drain-to-ms_es_logs" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="950.051,598.4451,953.6412,590.692,947.658,590.2431,950.051,598.4451" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64" x="970.5" y="536.0918">ship logs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="958" y="550.0605">[stdout/stderr]</text><rect fill="#FFFFFF" height="128.0781" rx="5" ry="5" style="stroke:#FFFFFF;stroke-width:1.0;" width="153" x="2245.5" y="841.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="2251.5" y="861.9482">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="2312.5" y="861.9482"/><rect fill="#08427B" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="2251.5" y="865.25"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="2255.5" y="878.2451">person</text><rect fill="#1168BD" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="2251.5" y="881.5469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="2255.5" y="894.542">system</text><rect fill="#438DD5" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="2251.5" y="897.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2255.5" y="910.8389">container</text><rect fill="#686868" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="2251.5" y="914.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2255.5" y="927.1357">external person</text><rect fill="#999999" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="2251.5" y="930.4375"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2255.5" y="943.4326">external system</text><rect fill="#B3B3B3" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="2251.5" y="946.7344"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="2255.5" y="959.7295">external container</text><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="848.9531" y2="848.9531"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="865.25" y2="865.25"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="881.5469" y2="881.5469"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="897.8438" y2="897.8438"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="914.1406" y2="914.1406"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="930.4375" y2="930.4375"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="946.7344" y2="946.7344"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2392.5" y1="963.0313" y2="963.0313"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2251.5" x2="2251.5" y1="848.9531" y2="963.0313"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="2392.5" x2="2392.5" y1="848.9531" y2="963.0313"/><!--MD5=[673b32ff9554c0ed069cdea0373cd1f5]
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Deployment.puml
LAYOUT_WITH_LEGEND()
title data.gov management space interactions
note as EncryptionNote
  All connections depicted are encrypted with TLS 1.2 unless otherwise noted.
end note
Deployment_Node(cloudgov, "cloud.gov", "Cloud Foundry PaaS") {
    System_Ext(cloudgov_loggregator, "cloud.gov logging system", "Loggregator")
    System_Ext(cloudgov_logs, "logs.fr.cloud.gov", "ELK")
    Boundary(atob, "ATO boundary") {
        Deployment_Node(organization, "data.gov organization") {
            Boundary(ms_staging_boundary, "management testing area") {
                Deployment_Node(ms_space, "management-staging space") {
                    System(ms_dumper, "backup service", "data.gov component")
                    System(ms_drain, "log shipper", "Fluent Bit")
                    ContainerDb_Ext(ms_es_logs, "Log Storage", "AWS ES", "Stores, monitors, and alerts on logs")
                    ContainerDb(ms_services, "production stand-in", "AWS RDS, S3, etc", "Stores (stand-in) persistent data for apps")
                    ContainerDb(ms_replica_services, "staging stand-in", "AWS RDS, S3, etc", "Stores replica of (stand-in) persistent data for apps")
                    ContainerDb(ms_backups, "backup stand-in", "AWS S3", "Stores backups of production stand-in's data")
                }
            }
            Boundary(ms_prod_boundary, "live spaces") {
                Deployment_Node(staging_space, "staging space") {
                    System_Ext(staging_app, "application", "data.gov component")
                    ContainerDb(staging_services, "staging services", "AWS RDS, S3, etc", "Stores replica of persistent data for apps")
                }
                Deployment_Node(management_space, "management space") {
                    System(management_dumper, "backup service", "data.gov component")
                    ContainerDb(manangement_backups, "backup repository", "AWS S3", "Stores backups of production apps' persistent data")
                    System(management_drain, "log shipper", "Fluent Bit")
                    ContainerDb_Ext(es_logs, "Log Storage", "AWS ES", "Stores, monitors, and alerts on logs")
                }
                Deployment_Node(production_space, "production space") {
                    System_Ext(production_app, "application", "data.gov component")
                    ContainerDb(production_services, "production services", "AWS RDS, S3, etc", "Stores persistent data for apps")
                }
            }
        }
    }
}

' app->service usage
Rel(staging_app, staging_services, "reads/writes data", "data protocols")
Rel(production_app, production_services, "reads/writes data", "data protocols")

' Backups flow
Rel(ms_dumper, ms_replica_services, "restore backups", "data protocols")
Rel(ms_dumper, ms_backups, "reads/writes backups", "S3 protocol")
Rel(ms_dumper, ms_services, "make/restore backups", "data protocols")
Rel(management_dumper, manangement_backups, "reads/writes backups", "S3 protocol")
Rel(management_dumper, production_services, "make/restore backups", "data protocols")
Rel(management_dumper, staging_services, "restore backups", "data protocols")

' Logging
Rel_Up(management_dumper, cloudgov_loggregator, "drain logs", "stdout/stderr")
Rel_Up(staging_app, cloudgov_loggregator, "log", "stdout/stderr")
Rel_Up(production_app, cloudgov_loggregator, "log", "stdout/stderr")
Rel_Up(ms_dumper, cloudgov_loggregator, "log", "stdout/stderr")

' The drains themselves also log, but this just gets confusing if we show it
'Rel_Up(management_drain, cloudgov_loggregator, "log", "stdout/stderr")
'Rel_Up(ms_drain, cloudgov_loggregator, "log", "stdout/stderr")

'Log draining
Rel_Down(cloudgov_loggregator, management_drain, "drain logs")
Rel_Down(cloudgov_loggregator, ms_drain, "drain logs")
Rel_Right(cloudgov_loggregator, cloudgov_logs, "drain logs")

'Log shipping
Rel(management_drain, es_logs, "ship logs", "stdout/stderr")
Rel(ms_drain, ms_es_logs, "ship logs", "stdout/stderr")
@enduml

@startuml








skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendBorderColor transparent
skinparam LegendBackgroundColor transparent
skinparam LegendFontColor #FFFFFF

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam queue {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}



















































skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam queue<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam queue<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}




sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $person2 [48x48/16] {
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000002578888300000000005888864100000000000
0000000007DFFFFFFFFD9643347BFFFFFFFFFB4000000000
00000004EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB10000000
0000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD2000000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
00003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
0000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF50000
0003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0000
0009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
0009FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF2000
0003FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFD0000
0000BFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF50000
00003FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFB00000
000006FFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFE100000
0000007FFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFD2000000
00000004EFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFB10000000
0000000007DF8FFFFFFFFFFFFFFFFFFFFFF8FB4000000000
000000000002578888888888888888888864100000000000
}



















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam queue<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam rectangle<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam database<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam queue<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}


















skinparam rectangle<<node>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #FFFFFF
    BorderColor #A2A2A2
}
skinparam database<<node>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #FFFFFF
    BorderColor #A2A2A2
}
skinparam queue<<node>> {
    StereotypeFontColor #000000
    FontColor #000000
    BackgroundColor #FFFFFF
    BorderColor #A2A2A2
}

skinparam rectangle<<node>> {
    FontStyle normal
}
















hide stereotype
legend right
|<color:#000000>**Legend**</color> |
|<#08427B> person |
|<#1168BD> system |
|<#438DD5> container |
|<#686868> external person |
|<#999999> external system |
|<#B3B3B3> external container |
endlegend
title data.gov management space interactions
note as EncryptionNote
  All connections depicted are encrypted with TLS 1.2 unless otherwise noted.
end note
rectangle "==cloud.gov\n<size:12>[Cloud Foundry PaaS]</size>" <<node>> as cloudgov {
    rectangle "==cloud.gov logging system\n\n Loggregator" <<external_system>> as cloudgov_loggregator
    rectangle "==logs.fr.cloud.gov\n\n ELK" <<external_system>> as cloudgov_logs
    rectangle "==ATO boundary" <<boundary>> as atob {
        rectangle "==data.gov organization" <<node>> as organization {
            rectangle "==management testing area" <<boundary>> as ms_staging_boundary {
                rectangle "==management-staging space" <<node>> as ms_space {
                    rectangle "==backup service\n\n data.gov component" <<system>> as ms_dumper
                    rectangle "==log shipper\n\n Fluent Bit" <<system>> as ms_drain
                    database "==Log Storage\n//<size:12>[AWS ES]</size>//\n\n Stores, monitors, and alerts on logs" <<external_container>> as ms_es_logs
                    database "==production stand-in\n//<size:12>[AWS RDS, S3, etc]</size>//\n\n Stores (stand-in) persistent data for apps" <<container>> as ms_services
                    database "==staging stand-in\n//<size:12>[AWS RDS, S3, etc]</size>//\n\n Stores replica of (stand-in) persistent data for apps" <<container>> as ms_replica_services
                    database "==backup stand-in\n//<size:12>[AWS S3]</size>//\n\n Stores backups of production stand-in's data" <<container>> as ms_backups
                }
            }
            rectangle "==live spaces" <<boundary>> as ms_prod_boundary {
                rectangle "==staging space" <<node>> as staging_space {
                    rectangle "==application\n\n data.gov component" <<external_system>> as staging_app
                    database "==staging services\n//<size:12>[AWS RDS, S3, etc]</size>//\n\n Stores replica of persistent data for apps" <<container>> as staging_services
                }
                rectangle "==management space" <<node>> as management_space {
                    rectangle "==backup service\n\n data.gov component" <<system>> as management_dumper
                    database "==backup repository\n//<size:12>[AWS S3]</size>//\n\n Stores backups of production apps' persistent data" <<container>> as manangement_backups
                    rectangle "==log shipper\n\n Fluent Bit" <<system>> as management_drain
                    database "==Log Storage\n//<size:12>[AWS ES]</size>//\n\n Stores, monitors, and alerts on logs" <<external_container>> as es_logs
                }
                rectangle "==production space" <<node>> as production_space {
                    rectangle "==application\n\n data.gov component" <<external_system>> as production_app
                    database "==production services\n//<size:12>[AWS RDS, S3, etc]</size>//\n\n Stores persistent data for apps" <<container>> as production_services
                }
            }
        }
    }
}

staging_app - ->> staging_services : **reads/writes data**\n//<size:12>[data protocols]</size>//
production_app - ->> production_services : **reads/writes data**\n//<size:12>[data protocols]</size>//

ms_dumper - ->> ms_replica_services : **restore backups**\n//<size:12>[data protocols]</size>//
ms_dumper - ->> ms_backups : **reads/writes backups**\n//<size:12>[S3 protocol]</size>//
ms_dumper - ->> ms_services : **make/restore backups**\n//<size:12>[data protocols]</size>//
management_dumper - ->> manangement_backups : **reads/writes backups**\n//<size:12>[S3 protocol]</size>//
management_dumper - ->> production_services : **make/restore backups**\n//<size:12>[data protocols]</size>//
management_dumper - ->> staging_services : **restore backups**\n//<size:12>[data protocols]</size>//

management_dumper -UP->> cloudgov_loggregator : **drain logs**\n//<size:12>[stdout/stderr]</size>//
staging_app -UP->> cloudgov_loggregator : **log**\n//<size:12>[stdout/stderr]</size>//
production_app -UP->> cloudgov_loggregator : **log**\n//<size:12>[stdout/stderr]</size>//
ms_dumper -UP->> cloudgov_loggregator : **log**\n//<size:12>[stdout/stderr]</size>//


cloudgov_loggregator -DOWN->> management_drain : **drain logs**
cloudgov_loggregator -DOWN->> ms_drain : **drain logs**
cloudgov_loggregator -RIGHT->> cloudgov_logs : **drain logs**

management_drain - ->> es_logs : **ship logs**\n//<size:12>[stdout/stderr]</size>//
ms_drain - ->> ms_es_logs : **ship logs**\n//<size:12>[stdout/stderr]</size>//
@enduml

PlantUML version 1.2021.2beta9(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>